{
  "target": {
    "id": "github.com/pismo/customer-management-api/internal/app/domain/service.SearchAccounts",
    "name": "SearchAccounts",
    "kind": "method",
    "package": "github.com/pismo/customer-management-api/internal/app/domain/service",
    "file": "/home/jon/w/customer-management-api/code/internal/app/domain/service/accounts.go",
    "line": 70,
    "endLine": 111,
    "code": "func (s *AccountsServiceImpl) SearchAccounts(ctx context.Context, searchType string, searchValue string, page, perPage int) (*presenter.AccountSearchResponse, error) {\n\tsp, ctx := tracer.NewSpanWithCtx(ctx, tracer.ServiceSearchAccounts, tracer.TagInternal)\n\tdefer sp.End()\n\n\ttracer.AddEvent(sp, tracer.ServiceSearchAccounts, tracer.Attributes{\n\t\t\"orgID\":       request.GetTenantFromContext(ctx),\n\t\t\"searchType\":  searchType,\n\t\t\"searchValue\": searchValue,\n\t})\n\n\trequestBody := map[string]interface{}{\n\t\t\"search_type\":  searchType,\n\t\t\"search_value\": searchValue,\n\t}\n\n\turl := fmt.Sprintf(s.accountSearchURL, page, perPage)\n\n\tbody, _ := json.Marshal(requestBody)\n\n\tresponseBody, responseCode, err := s.Network.Post(ctx, url, request.BuildDefaultHeaders(ctx), body)\n\tif err != nil {\n\t\ttracer.SetError(sp, err)\n\t\treturn nil, syserror.NewErrorAndLog(ctx, message.ErrApiConnectionErr.Format(err), err)\n\t}\n\n\tif responseCode == http.StatusNotFound {\n\t\treturn \u0026presenter.AccountSearchResponse{\n\t\t\tAccounts:   []presenter.AccountSearchItem{},\n\t\t\tTotalCount: 0,\n\t\t\tPage:       page,\n\t\t\tPerPage:    perPage,\n\t\t}, nil\n\t}\n\n\tvar response presenter.AccountSearchResponse\n\tresponse, err = ConvertResponse(responseBody, responseCode, http.StatusOK, response, sp, ctx)\n\tif err != nil {\n\t\ttracer.SetError(sp, err)\n\t\treturn nil, err\n\t}\n\treturn \u0026response, nil\n}",
    "exported": true,
    "depth": 0,
    "isTarget": true,
    "external": false,
    "stub": false
  },
  "nodes": [
    {
      "id": "github.com/pismo/customer-management-api/internal/app/domain/service.AccountsServiceImpl",
      "name": "AccountsServiceImpl",
      "kind": "struct",
      "package": "github.com/pismo/customer-management-api/internal/app/domain/service",
      "file": "/home/jon/w/customer-management-api/code/internal/app/domain/service/accounts.go",
      "line": 32,
      "endLine": 43,
      "code": "AccountsServiceImpl struct {\n\taccountGetURL                    string\n\taccountSearchURL                 string\n\taccountAddressURL                string\n\taccountPhoneURL                  string\n\taccountContractURL               string\n\taccountMerchantURL               string\n\taccountProgramURL                string\n\tauthorizationsLastTransactionURL string\n\tstatementsLastStatementURL       string\n\tNetwork                          network.Network\n}",
      "exported": true,
      "depth": 1,
      "isTarget": false,
      "external": false,
      "stub": false
    },
    {
      "id": "context.Context",
      "name": "Context",
      "kind": "type",
      "package": "context",
      "file": "",
      "line": 0,
      "endLine": 0,
      "code": "",
      "exported": true,
      "depth": 1,
      "isTarget": false,
      "external": true,
      "stub": true
    },
    {
      "id": "github.com/pismo/customer-management-api/internal/app/domain/service.context",
      "name": "context",
      "kind": "unknown",
      "package": "github.com/pismo/customer-management-api/internal/app/domain/service",
      "file": "/home/jon/w/customer-management-api/code/internal/app/domain/service/accounts.go",
      "line": 4,
      "endLine": 0,
      "code": "",
      "exported": false,
      "depth": 1,
      "isTarget": false,
      "external": false,
      "stub": false
    },
    {
      "id": "github.com/pismo/customer-management-api/internal/app/adapter/web/presenter.AccountSearchResponse",
      "name": "AccountSearchResponse",
      "kind": "struct",
      "package": "github.com/pismo/customer-management-api/internal/app/adapter/web/presenter",
      "file": "/home/jon/w/customer-management-api/code/internal/app/adapter/web/presenter/account.go",
      "line": 10,
      "endLine": 19,
      "code": "AccountSearchResponse struct {\n\tAccounts   []AccountSearchItem `json:\"items\"`\n\tTotalCount int                 `json:\"total_items\"`\n\tPage       int                 `json:\"current_page\"`\n\tPerPage    int                 `json:\"per_page\"`\n\tPages      int                 `json:\"pages\"`\n\tHasNext    bool                `json:\"has_next\"`\n\tNextCursor *string             `json:\"next_cursor\"`\n\tCount      int                 `json:\"count\"`\n}",
      "doc": "AccountSearchResponse represents the response from account search\n",
      "exported": true,
      "depth": 1,
      "isTarget": false,
      "external": false,
      "stub": false
    },
    {
      "id": "github.com/pismo/customer-management-api/internal/app/domain/service.presenter",
      "name": "presenter",
      "kind": "unknown",
      "package": "github.com/pismo/customer-management-api/internal/app/domain/service",
      "file": "/home/jon/w/customer-management-api/code/internal/app/domain/service/accounts.go",
      "line": 10,
      "endLine": 0,
      "code": "",
      "exported": false,
      "depth": 1,
      "isTarget": false,
      "external": false,
      "stub": false
    },
    {
      "id": "github.com/pismo/customer-management-api/internal/app/infrastructure/tracer.NewSpanWithCtx",
      "name": "NewSpanWithCtx",
      "kind": "func",
      "package": "github.com/pismo/customer-management-api/internal/app/infrastructure/tracer",
      "file": "/home/jon/w/customer-management-api/code/internal/app/infrastructure/tracer/metrics.go",
      "line": 21,
      "endLine": 36,
      "code": "func NewSpanWithCtx(parentCtx context.Context, spanName string, spanKind SpanKind) (oteltrace.Span, context.Context) {\n\ttracer := otel.Tracer(middleware.TracerName)\n\n\tcommonLabels := []attribute.KeyValue{\n\t\tattribute.String(ServiceSpanKind, spanKind.ServiceValue),\n\t\tattribute.String(ServiceName, \"customer-management-api\"),\n\t}\n\n\tctx, span := tracer.Start(\n\t\tparentCtx,\n\t\tspanName,\n\t\toteltrace.WithSpanKind(spanKind.OtelValue),\n\t\toteltrace.WithAttributes(commonLabels...),\n\t)\n\treturn span, ctx\n}",
      "exported": true,
      "depth": 1,
      "isTarget": false,
      "external": false,
      "stub": false
    },
    {
      "id": "github.com/pismo/customer-management-api/internal/app/domain/service.tracer",
      "name": "tracer",
      "kind": "unknown",
      "package": "github.com/pismo/customer-management-api/internal/app/domain/service",
      "file": "/home/jon/w/customer-management-api/code/internal/app/domain/service/accounts.go",
      "line": 18,
      "endLine": 0,
      "code": "",
      "exported": false,
      "depth": 1,
      "isTarget": false,
      "external": false,
      "stub": false
    },
    {
      "id": "github.com/pismo/customer-management-api/internal/app/infrastructure/tracer.ServiceSearchAccounts",
      "name": "ServiceSearchAccounts",
      "kind": "const",
      "package": "github.com/pismo/customer-management-api/internal/app/infrastructure/tracer",
      "file": "/home/jon/w/customer-management-api/code/internal/app/infrastructure/tracer/spannames.go",
      "line": 21,
      "endLine": 21,
      "code": "ServiceSearchAccounts                = \"Service::SearchAccounts\"",
      "exported": true,
      "depth": 1,
      "isTarget": false,
      "external": false,
      "stub": false
    },
    {
      "id": "github.com/pismo/customer-management-api/internal/app/infrastructure/tracer.TagInternal",
      "name": "TagInternal",
      "kind": "var",
      "package": "github.com/pismo/customer-management-api/internal/app/infrastructure/tracer",
      "file": "/home/jon/w/customer-management-api/code/internal/app/infrastructure/tracer/metrics.go",
      "line": 83,
      "endLine": 83,
      "code": "TagInternal = SpanKind{ServiceValue: \"internal\", OtelValue: oteltrace.SpanKindInternal}",
      "exported": true,
      "depth": 1,
      "isTarget": false,
      "external": false,
      "stub": false
    },
    {
      "id": "go.opentelemetry.io/otel/trace.End",
      "name": "End",
      "kind": "func",
      "package": "go.opentelemetry.io/otel/trace",
      "file": "",
      "line": 0,
      "endLine": 0,
      "code": "",
      "exported": true,
      "depth": 1,
      "isTarget": false,
      "external": true,
      "stub": true
    },
    {
      "id": "github.com/pismo/customer-management-api/internal/app/infrastructure/tracer.AddEvent",
      "name": "AddEvent",
      "kind": "func",
      "package": "github.com/pismo/customer-management-api/internal/app/infrastructure/tracer",
      "file": "/home/jon/w/customer-management-api/code/internal/app/infrastructure/tracer/metrics.go",
      "line": 39,
      "endLine": 42,
      "code": "func AddEvent(span oteltrace.Span, name string, attributes Attributes) {\n\tvalues := buildKeyValue(attributes)\n\tspan.AddEvent(name, oteltrace.WithAttributes(values...))\n}",
      "doc": "AddEvent adds an event with the provided name and options.\n",
      "exported": true,
      "depth": 1,
      "isTarget": false,
      "external": false,
      "stub": false
    },
    {
      "id": "github.com/pismo/customer-management-api/internal/app/infrastructure/tracer.Attributes",
      "name": "Attributes",
      "kind": "type",
      "package": "github.com/pismo/customer-management-api/internal/app/infrastructure/tracer",
      "file": "/home/jon/w/customer-management-api/code/internal/app/infrastructure/tracer/metrics.go",
      "line": 14,
      "endLine": 14,
      "code": "Attributes map[string]interface{}",
      "exported": true,
      "depth": 1,
      "isTarget": false,
      "external": false,
      "stub": false
    },
    {
      "id": "github.com/pismo/customer-management-api/internal/app/infrastructure/request.GetTenantFromContext",
      "name": "GetTenantFromContext",
      "kind": "func",
      "package": "github.com/pismo/customer-management-api/internal/app/infrastructure/request",
      "file": "/home/jon/w/customer-management-api/code/internal/app/infrastructure/request/header.go",
      "line": 26,
      "endLine": 32,
      "code": "func GetTenantFromContext(ctx context.Context) string {\n\tval := ctx.Value(env.RequestContext)\n\tif val != nil {\n\t\treturn val.(RequestContext).OrgId\n\t}\n\treturn \"\"\n}",
      "exported": true,
      "depth": 1,
      "isTarget": false,
      "external": false,
      "stub": false
    },
    {
      "id": "github.com/pismo/customer-management-api/internal/app/domain/service.request",
      "name": "request",
      "kind": "unknown",
      "package": "github.com/pismo/customer-management-api/internal/app/domain/service",
      "file": "/home/jon/w/customer-management-api/code/internal/app/domain/service/accounts.go",
      "line": 16,
      "endLine": 0,
      "code": "",
      "exported": false,
      "depth": 1,
      "isTarget": false,
      "external": false,
      "stub": false
    },
    {
      "id": "fmt.Sprintf",
      "name": "Sprintf",
      "kind": "func",
      "package": "fmt",
      "file": "",
      "line": 0,
      "endLine": 0,
      "code": "",
      "exported": true,
      "depth": 1,
      "isTarget": false,
      "external": true,
      "stub": true
    },
    {
      "id": "github.com/pismo/customer-management-api/internal/app/domain/service.fmt",
      "name": "fmt",
      "kind": "unknown",
      "package": "github.com/pismo/customer-management-api/internal/app/domain/service",
      "file": "/home/jon/w/customer-management-api/code/internal/app/domain/service/accounts.go",
      "line": 6,
      "endLine": 0,
      "code": "",
      "exported": false,
      "depth": 1,
      "isTarget": false,
      "external": false,
      "stub": false
    },
    {
      "id": "encoding/json.Marshal",
      "name": "Marshal",
      "kind": "func",
      "package": "encoding/json",
      "file": "",
      "line": 0,
      "endLine": 0,
      "code": "",
      "exported": true,
      "depth": 1,
      "isTarget": false,
      "external": true,
      "stub": true
    },
    {
      "id": "github.com/pismo/customer-management-api/internal/app/domain/service.json",
      "name": "json",
      "kind": "unknown",
      "package": "github.com/pismo/customer-management-api/internal/app/domain/service",
      "file": "/home/jon/w/customer-management-api/code/internal/app/domain/service/accounts.go",
      "line": 5,
      "endLine": 0,
      "code": "",
      "exported": false,
      "depth": 1,
      "isTarget": false,
      "external": false,
      "stub": false
    },
    {
      "id": "github.com/pismo/customer-management-api/internal/app/infrastructure/network.Network",
      "name": "Network",
      "kind": "interface",
      "package": "github.com/pismo/customer-management-api/internal/app/infrastructure/network",
      "file": "/home/jon/w/customer-management-api/code/internal/app/infrastructure/network/network.go",
      "line": 22,
      "endLine": 28,
      "code": "Network interface {\n\t\tGet(ctx context.Context, uri string, headers map[string]interface{}) ([]byte, int, error)\n\t\tPost(ctx context.Context, uri string, headers map[string]interface{}, body []byte) ([]byte, int, error)\n\t\tPatch(ctx context.Context, uri string, headers map[string]interface{}, body []byte) ([]byte, int, error)\n\t\tPut(ctx context.Context, uri string, headers map[string]interface{}, body []byte) ([]byte, int, error)\n\t\tExecuteRequest(ctx context.Context, path string, method string, body interface{}, headers http.Header) ([]byte, http.Header, int, error)\n\t}",
      "exported": true,
      "depth": 1,
      "isTarget": false,
      "external": false,
      "stub": false
    },
    {
      "id": "github.com/pismo/customer-management-api/internal/app/infrastructure/request.BuildDefaultHeaders",
      "name": "BuildDefaultHeaders",
      "kind": "func",
      "package": "github.com/pismo/customer-management-api/internal/app/infrastructure/request",
      "file": "/home/jon/w/customer-management-api/code/internal/app/infrastructure/request/header.go",
      "line": 80,
      "endLine": 86,
      "code": "func BuildDefaultHeaders(ctx context.Context) map[string]interface{} {\n\treturn map[string]interface{}{\n\t\tenv.HeaderContentType: env.ContentTypeJSON,\n\t\tenv.HeaderXCid:        GetCIDFromContext(ctx),\n\t\tenv.HeaderXTenant:     GetTenantFromContext(ctx),\n\t}\n}",
      "exported": true,
      "depth": 1,
      "isTarget": false,
      "external": false,
      "stub": false
    },
    {
      "id": "github.com/pismo/customer-management-api/internal/app/infrastructure/tracer.SetError",
      "name": "SetError",
      "kind": "func",
      "package": "github.com/pismo/customer-management-api/internal/app/infrastructure/tracer",
      "file": "/home/jon/w/customer-management-api/code/internal/app/infrastructure/tracer/metrics.go",
      "line": 46,
      "endLine": 51,
      "code": "func SetError(span oteltrace.Span, e error) {\n\tif span != nil {\n\t\tspan.RecordError(e)\n\t\tspan.SetStatus(codes.Error, e.Error())\n\t}\n}",
      "doc": "SetError will record err as an exception span event for this span. If this\nspan is not being recorded or err is nil then this method does nothing.\n",
      "exported": true,
      "depth": 1,
      "isTarget": false,
      "external": false,
      "stub": false
    },
    {
      "id": "github.com/pismo/customer-management-api/internal/app/infrastructure/syserror.NewErrorAndLog",
      "name": "NewErrorAndLog",
      "kind": "func",
      "package": "github.com/pismo/customer-management-api/internal/app/infrastructure/syserror",
      "file": "/home/jon/w/customer-management-api/code/internal/app/infrastructure/syserror/syserror.go",
      "line": 52,
      "endLine": 54,
      "code": "func NewErrorAndLog(ctx context.Context, errorMessage message.ErrorMessage, err error) SystemError {\n\treturn newSystemErrorAndLog(ctx, err, errorMessage, message.Error)\n}",
      "exported": true,
      "depth": 1,
      "isTarget": false,
      "external": false,
      "stub": false
    },
    {
      "id": "github.com/pismo/customer-management-api/internal/app/domain/service.syserror",
      "name": "syserror",
      "kind": "unknown",
      "package": "github.com/pismo/customer-management-api/internal/app/domain/service",
      "file": "/home/jon/w/customer-management-api/code/internal/app/domain/service/accounts.go",
      "line": 13,
      "endLine": 0,
      "code": "",
      "exported": false,
      "depth": 1,
      "isTarget": false,
      "external": false,
      "stub": false
    },
    {
      "id": "github.com/pismo/customer-management-api/internal/app/infrastructure/message.Format",
      "name": "Format",
      "kind": "method",
      "package": "github.com/pismo/customer-management-api/internal/app/infrastructure/message",
      "file": "/home/jon/w/customer-management-api/code/internal/app/infrastructure/message/message.go",
      "line": 321,
      "endLine": 324,
      "code": "func (e ErrorMessage) Format(a ...any) ErrorMessage {\n\te.UserMessage = fmt.Sprintf(e.UserMessage, a...)\n\treturn e\n}",
      "exported": true,
      "depth": 1,
      "isTarget": false,
      "external": false,
      "stub": false
    },
    {
      "id": "github.com/pismo/customer-management-api/internal/app/infrastructure/message.ErrApiConnectionErr",
      "name": "ErrApiConnectionErr",
      "kind": "var",
      "package": "github.com/pismo/customer-management-api/internal/app/infrastructure/message",
      "file": "/home/jon/w/customer-management-api/code/internal/app/infrastructure/message/message.go",
      "line": 67,
      "endLine": 71,
      "code": "ErrApiConnectionErr = ErrorMessage{\n\t\tErrorCode:      ErrorPrefix + \"0009\",\n\t\tUserMessage:    \"Connection failed with message: %s\",\n\t\tHttpStatusCode: http.StatusInternalServerError,\n\t}",
      "exported": true,
      "depth": 1,
      "isTarget": false,
      "external": false,
      "stub": false
    },
    {
      "id": "github.com/pismo/customer-management-api/internal/app/domain/service.message",
      "name": "message",
      "kind": "unknown",
      "package": "github.com/pismo/customer-management-api/internal/app/domain/service",
      "file": "/home/jon/w/customer-management-api/code/internal/app/domain/service/accounts.go",
      "line": 11,
      "endLine": 0,
      "code": "",
      "exported": false,
      "depth": 1,
      "isTarget": false,
      "external": false,
      "stub": false
    },
    {
      "id": "net/http.StatusNotFound",
      "name": "StatusNotFound",
      "kind": "const",
      "package": "net/http",
      "file": "",
      "line": 0,
      "endLine": 0,
      "code": "",
      "exported": true,
      "depth": 1,
      "isTarget": false,
      "external": true,
      "stub": true
    },
    {
      "id": "github.com/pismo/customer-management-api/internal/app/domain/service.http",
      "name": "http",
      "kind": "unknown",
      "package": "github.com/pismo/customer-management-api/internal/app/domain/service",
      "file": "/home/jon/w/customer-management-api/code/internal/app/domain/service/accounts.go",
      "line": 8,
      "endLine": 0,
      "code": "",
      "exported": false,
      "depth": 1,
      "isTarget": false,
      "external": false,
      "stub": false
    },
    {
      "id": "github.com/pismo/customer-management-api/internal/app/adapter/web/presenter.AccountSearchItem",
      "name": "AccountSearchItem",
      "kind": "struct",
      "package": "github.com/pismo/customer-management-api/internal/app/adapter/web/presenter",
      "file": "/home/jon/w/customer-management-api/code/internal/app/adapter/web/presenter/account.go",
      "line": 22,
      "endLine": 29,
      "code": "AccountSearchItem struct {\n\tAccountID  int64        `json:\"account_id\"`\n\tProgramID  int          `json:\"program_id\"`\n\tExternalID string       `json:\"external_id\"`\n\tStatus     StatusInfo   `json:\"status\"`\n\tEntities   []EntityInfo `json:\"entities\"`\n\t// Add other fields as needed\n}",
      "doc": "AccountSearchItem represents a single account in search results\n",
      "exported": true,
      "depth": 1,
      "isTarget": false,
      "external": false,
      "stub": false
    },
    {
      "id": "github.com/pismo/customer-management-api/internal/app/domain/service.response",
      "name": "response",
      "kind": "var",
      "package": "github.com/pismo/customer-management-api/internal/app/domain/service",
      "file": "/home/jon/w/customer-management-api/code/internal/app/domain/service/accounts.go",
      "line": 104,
      "endLine": 104,
      "code": "response presenter.AccountSearchResponse",
      "exported": false,
      "depth": 1,
      "isTarget": false,
      "external": false,
      "stub": false
    },
    {
      "id": "github.com/pismo/customer-management-api/internal/app/domain/service.ConvertResponse",
      "name": "ConvertResponse",
      "kind": "func",
      "package": "github.com/pismo/customer-management-api/internal/app/domain/service",
      "file": "/home/jon/w/customer-management-api/code/internal/app/domain/service/apihelper.go",
      "line": 17,
      "endLine": 32,
      "code": "func ConvertResponse[E any](responseBody []byte, responseCode int, expectedResponseCode int, entity E, sp oteltrace.Span, ctx context.Context) (E, error) {\n\tif responseCode != expectedResponseCode {\n\t\treturn entity, ParseErrorResponse(ctx, responseBody)\n\t}\n\n\tif responseCode == http.StatusNoContent {\n\t\treturn entity, nil\n\t}\n\n\terr := json.Unmarshal(responseBody, \u0026entity)\n\tif err != nil {\n\t\ttracer.SetError(sp, err)\n\t\treturn entity, syserror.NewErrorAndLog(ctx, message.ErrApiBodyParsingErr.Format(err), err)\n\t}\n\treturn entity, nil\n}",
      "exported": true,
      "depth": 1,
      "isTarget": false,
      "external": false,
      "stub": false
    },
    {
      "id": "net/http.StatusOK",
      "name": "StatusOK",
      "kind": "const",
      "package": "net/http",
      "file": "",
      "line": 0,
      "endLine": 0,
      "code": "",
      "exported": true,
      "depth": 1,
      "isTarget": false,
      "external": true,
      "stub": true
    },
    {
      "id": "github.com/pismo/customer-management-api/internal/app/domain/service.network",
      "name": "network",
      "kind": "unknown",
      "package": "github.com/pismo/customer-management-api/internal/app/domain/service",
      "file": "/home/jon/w/customer-management-api/code/internal/app/domain/service/accounts.go",
      "line": 12,
      "endLine": 0,
      "code": "",
      "exported": false,
      "depth": 2,
      "isTarget": false,
      "external": false,
      "stub": false
    },
    {
      "id": "github.com/pismo/customer-management-api/internal/app/infrastructure/tracer.context",
      "name": "context",
      "kind": "unknown",
      "package": "github.com/pismo/customer-management-api/internal/app/infrastructure/tracer",
      "file": "/home/jon/w/customer-management-api/code/internal/app/infrastructure/tracer/metrics.go",
      "line": 4,
      "endLine": 0,
      "code": "",
      "exported": false,
      "depth": 2,
      "isTarget": false,
      "external": false,
      "stub": false
    },
    {
      "id": "github.com/pismo/customer-management-api/internal/app/infrastructure/tracer.SpanKind",
      "name": "SpanKind",
      "kind": "struct",
      "package": "github.com/pismo/customer-management-api/internal/app/infrastructure/tracer",
      "file": "/home/jon/w/customer-management-api/code/internal/app/infrastructure/tracer/metrics.go",
      "line": 106,
      "endLine": 109,
      "code": "SpanKind struct {\n\tServiceValue string\n\tOtelValue    oteltrace.SpanKind\n}",
      "exported": true,
      "depth": 2,
      "isTarget": false,
      "external": false,
      "stub": false
    },
    {
      "id": "go.opentelemetry.io/otel/trace.Span",
      "name": "Span",
      "kind": "type",
      "package": "go.opentelemetry.io/otel/trace",
      "file": "",
      "line": 0,
      "endLine": 0,
      "code": "",
      "exported": true,
      "depth": 2,
      "isTarget": false,
      "external": true,
      "stub": true
    },
    {
      "id": "github.com/pismo/customer-management-api/internal/app/infrastructure/tracer.oteltrace",
      "name": "oteltrace",
      "kind": "unknown",
      "package": "github.com/pismo/customer-management-api/internal/app/infrastructure/tracer",
      "file": "/home/jon/w/customer-management-api/code/internal/app/infrastructure/tracer/metrics.go",
      "line": 11,
      "endLine": 0,
      "code": "",
      "exported": false,
      "depth": 2,
      "isTarget": false,
      "external": false,
      "stub": false
    },
    {
      "id": "go.opentelemetry.io/otel.Tracer",
      "name": "Tracer",
      "kind": "func",
      "package": "go.opentelemetry.io/otel",
      "file": "",
      "line": 0,
      "endLine": 0,
      "code": "",
      "exported": true,
      "depth": 2,
      "isTarget": false,
      "external": true,
      "stub": true
    },
    {
      "id": "github.com/pismo/customer-management-api/internal/app/infrastructure/tracer.otel",
      "name": "otel",
      "kind": "unknown",
      "package": "github.com/pismo/customer-management-api/internal/app/infrastructure/tracer",
      "file": "/home/jon/w/customer-management-api/code/internal/app/infrastructure/tracer/metrics.go",
      "line": 8,
      "endLine": 0,
      "code": "",
      "exported": false,
      "depth": 2,
      "isTarget": false,
      "external": false,
      "stub": false
    },
    {
      "id": "github.com/pismo/customer-management-api/internal/app/infrastructure/server/middleware.TracerName",
      "name": "TracerName",
      "kind": "const",
      "package": "github.com/pismo/customer-management-api/internal/app/infrastructure/server/middleware",
      "file": "/home/jon/w/customer-management-api/code/internal/app/infrastructure/server/middleware/opentracing.go",
      "line": 25,
      "endLine": 25,
      "code": "TracerName = \"poc_observability\"",
      "exported": true,
      "depth": 2,
      "isTarget": false,
      "external": false,
      "stub": false
    },
    {
      "id": "github.com/pismo/customer-management-api/internal/app/infrastructure/tracer.middleware",
      "name": "middleware",
      "kind": "unknown",
      "package": "github.com/pismo/customer-management-api/internal/app/infrastructure/tracer",
      "file": "/home/jon/w/customer-management-api/code/internal/app/infrastructure/tracer/metrics.go",
      "line": 7,
      "endLine": 0,
      "code": "",
      "exported": false,
      "depth": 2,
      "isTarget": false,
      "external": false,
      "stub": false
    },
    {
      "id": "go.opentelemetry.io/otel/attribute.KeyValue",
      "name": "KeyValue",
      "kind": "type",
      "package": "go.opentelemetry.io/otel/attribute",
      "file": "",
      "line": 0,
      "endLine": 0,
      "code": "",
      "exported": true,
      "depth": 2,
      "isTarget": false,
      "external": true,
      "stub": true
    },
    {
      "id": "github.com/pismo/customer-management-api/internal/app/infrastructure/tracer.attribute",
      "name": "attribute",
      "kind": "unknown",
      "package": "github.com/pismo/customer-management-api/internal/app/infrastructure/tracer",
      "file": "/home/jon/w/customer-management-api/code/internal/app/infrastructure/tracer/metrics.go",
      "line": 9,
      "endLine": 0,
      "code": "",
      "exported": false,
      "depth": 2,
      "isTarget": false,
      "external": false,
      "stub": false
    },
    {
      "id": "go.opentelemetry.io/otel/attribute.String",
      "name": "String",
      "kind": "func",
      "package": "go.opentelemetry.io/otel/attribute",
      "file": "",
      "line": 0,
      "endLine": 0,
      "code": "",
      "exported": true,
      "depth": 2,
      "isTarget": false,
      "external": true,
      "stub": true
    },
    {
      "id": "github.com/pismo/customer-management-api/internal/app/infrastructure/tracer.ServiceSpanKind",
      "name": "ServiceSpanKind",
      "kind": "const",
      "package": "github.com/pismo/customer-management-api/internal/app/infrastructure/tracer",
      "file": "/home/jon/w/customer-management-api/code/internal/app/infrastructure/tracer/metrics.go",
      "line": 17,
      "endLine": 17,
      "code": "ServiceSpanKind = \"span.kind\"",
      "exported": true,
      "depth": 2,
      "isTarget": false,
      "external": false,
      "stub": false
    },
    {
      "id": "github.com/pismo/customer-management-api/internal/app/infrastructure/tracer.ServiceName",
      "name": "ServiceName",
      "kind": "const",
      "package": "github.com/pismo/customer-management-api/internal/app/infrastructure/tracer",
      "file": "/home/jon/w/customer-management-api/code/internal/app/infrastructure/tracer/metrics.go",
      "line": 18,
      "endLine": 18,
      "code": "ServiceName     = \"service.name\"",
      "exported": true,
      "depth": 2,
      "isTarget": false,
      "external": false,
      "stub": false
    },
    {
      "id": "go.opentelemetry.io/otel/trace.Start",
      "name": "Start",
      "kind": "func",
      "package": "go.opentelemetry.io/otel/trace",
      "file": "",
      "line": 0,
      "endLine": 0,
      "code": "",
      "exported": true,
      "depth": 2,
      "isTarget": false,
      "external": true,
      "stub": true
    },
    {
      "id": "go.opentelemetry.io/otel/trace.WithSpanKind",
      "name": "WithSpanKind",
      "kind": "func",
      "package": "go.opentelemetry.io/otel/trace",
      "file": "",
      "line": 0,
      "endLine": 0,
      "code": "",
      "exported": true,
      "depth": 2,
      "isTarget": false,
      "external": true,
      "stub": true
    },
    {
      "id": "go.opentelemetry.io/otel/trace.WithAttributes",
      "name": "WithAttributes",
      "kind": "func",
      "package": "go.opentelemetry.io/otel/trace",
      "file": "",
      "line": 0,
      "endLine": 0,
      "code": "",
      "exported": true,
      "depth": 2,
      "isTarget": false,
      "external": true,
      "stub": true
    },
    {
      "id": "github.com/pismo/customer-management-api/internal/app/infrastructure/tracer.buildKeyValue",
      "name": "buildKeyValue",
      "kind": "func",
      "package": "github.com/pismo/customer-management-api/internal/app/infrastructure/tracer",
      "file": "/home/jon/w/customer-management-api/code/internal/app/infrastructure/tracer/metrics.go",
      "line": 53,
      "endLine": 80,
      "code": "func buildKeyValue(attributes Attributes) []attribute.KeyValue {\n\tvalues := make([]attribute.KeyValue, 0, len(attributes))\n\tfor k, v := range attributes {\n\n\t\tswitch t := v.(type) {\n\t\tcase string:\n\t\t\tvalues = append(values, attribute.String(k, t))\n\t\t\tcontinue\n\t\tcase int:\n\t\t\tvalues = append(values, attribute.Int(k, t))\n\t\t\tcontinue\n\t\tcase int64:\n\t\t\tvalues = append(values, attribute.Int64(k, t))\n\t\t\tcontinue\n\t\tcase bool:\n\t\t\tvalues = append(values, attribute.Bool(k, t))\n\t\t\tcontinue\n\t\tdefault:\n\t\t\tval, err := json.Marshal(v)\n\t\t\tif err != nil {\n\t\t\t\tcontinue\n\t\t\t}\n\t\t\tvalues = append(values, attribute.String(k, string(val)))\n\t\t}\n\n\t}\n\treturn values\n}",
      "exported": false,
      "depth": 2,
      "isTarget": false,
      "external": false,
      "stub": false
    },
    {
      "id": "go.opentelemetry.io/otel/trace.AddEvent",
      "name": "AddEvent",
      "kind": "func",
      "package": "go.opentelemetry.io/otel/trace",
      "file": "",
      "line": 0,
      "endLine": 0,
      "code": "",
      "exported": true,
      "depth": 2,
      "isTarget": false,
      "external": true,
      "stub": true
    },
    {
      "id": "github.com/pismo/customer-management-api/internal/app/infrastructure/request.context",
      "name": "context",
      "kind": "unknown",
      "package": "github.com/pismo/customer-management-api/internal/app/infrastructure/request",
      "file": "/home/jon/w/customer-management-api/code/internal/app/infrastructure/request/header.go",
      "line": 4,
      "endLine": 0,
      "code": "",
      "exported": false,
      "depth": 2,
      "isTarget": false,
      "external": false,
      "stub": false
    },
    {
      "id": "context.Value",
      "name": "Value",
      "kind": "func",
      "package": "context",
      "file": "",
      "line": 0,
      "endLine": 0,
      "code": "",
      "exported": true,
      "depth": 2,
      "isTarget": false,
      "external": true,
      "stub": true
    },
    {
      "id": "github.com/pismo/customer-management-api/internal/app/infrastructure/env.RequestContext",
      "name": "RequestContext",
      "kind": "const",
      "package": "github.com/pismo/customer-management-api/internal/app/infrastructure/env",
      "file": "/home/jon/w/customer-management-api/code/internal/app/infrastructure/env/env.go",
      "line": 19,
      "endLine": 19,
      "code": "RequestContext    = \"requestContext\"",
      "exported": true,
      "depth": 2,
      "isTarget": false,
      "external": false,
      "stub": false
    },
    {
      "id": "github.com/pismo/customer-management-api/internal/app/infrastructure/request.env",
      "name": "env",
      "kind": "unknown",
      "package": "github.com/pismo/customer-management-api/internal/app/infrastructure/request",
      "file": "/home/jon/w/customer-management-api/code/internal/app/infrastructure/request/header.go",
      "line": 8,
      "endLine": 0,
      "code": "",
      "exported": false,
      "depth": 2,
      "isTarget": false,
      "external": false,
      "stub": false
    },
    {
      "id": "github.com/pismo/customer-management-api/internal/app/infrastructure/request.RequestContext",
      "name": "RequestContext",
      "kind": "struct",
      "package": "github.com/pismo/customer-management-api/internal/app/infrastructure/request",
      "file": "/home/jon/w/customer-management-api/code/internal/app/infrastructure/request/request.go",
      "line": 15,
      "endLine": 22,
      "code": "RequestContext struct {\n\t\tOrgId         string\n\t\tAccountID     string\n\t\tCid           string\n\t\tRoles         []string\n\t\tCustomHeaders map[string]interface{}\n\t\tUser          *string\n\t}",
      "exported": true,
      "depth": 2,
      "isTarget": false,
      "external": false,
      "stub": false
    },
    {
      "id": "github.com/pismo/customer-management-api/internal/app/infrastructure/network.context",
      "name": "context",
      "kind": "unknown",
      "package": "github.com/pismo/customer-management-api/internal/app/infrastructure/network",
      "file": "/home/jon/w/customer-management-api/code/internal/app/infrastructure/network/network.go",
      "line": 5,
      "endLine": 0,
      "code": "",
      "exported": false,
      "depth": 2,
      "isTarget": false,
      "external": false,
      "stub": false
    },
    {
      "id": "net/http.Header",
      "name": "Header",
      "kind": "type",
      "package": "net/http",
      "file": "",
      "line": 0,
      "endLine": 0,
      "code": "",
      "exported": true,
      "depth": 2,
      "isTarget": false,
      "external": true,
      "stub": true
    },
    {
      "id": "github.com/pismo/customer-management-api/internal/app/infrastructure/network.http",
      "name": "http",
      "kind": "unknown",
      "package": "github.com/pismo/customer-management-api/internal/app/infrastructure/network",
      "file": "/home/jon/w/customer-management-api/code/internal/app/infrastructure/network/network.go",
      "line": 8,
      "endLine": 0,
      "code": "",
      "exported": false,
      "depth": 2,
      "isTarget": false,
      "external": false,
      "stub": false
    },
    {
      "id": "github.com/pismo/customer-management-api/internal/app/infrastructure/env.HeaderContentType",
      "name": "HeaderContentType",
      "kind": "const",
      "package": "github.com/pismo/customer-management-api/internal/app/infrastructure/env",
      "file": "/home/jon/w/customer-management-api/code/internal/app/infrastructure/env/env.go",
      "line": 20,
      "endLine": 20,
      "code": "HeaderContentType = \"Content-Type\"",
      "exported": true,
      "depth": 2,
      "isTarget": false,
      "external": false,
      "stub": false
    },
    {
      "id": "github.com/pismo/customer-management-api/internal/app/infrastructure/env.ContentTypeJSON",
      "name": "ContentTypeJSON",
      "kind": "const",
      "package": "github.com/pismo/customer-management-api/internal/app/infrastructure/env",
      "file": "/home/jon/w/customer-management-api/code/internal/app/infrastructure/env/env.go",
      "line": 21,
      "endLine": 21,
      "code": "ContentTypeJSON   = \"application/json;charset=utf8\"",
      "exported": true,
      "depth": 2,
      "isTarget": false,
      "external": false,
      "stub": false
    },
    {
      "id": "github.com/pismo/customer-management-api/internal/app/infrastructure/env.HeaderXCid",
      "name": "HeaderXCid",
      "kind": "const",
      "package": "github.com/pismo/customer-management-api/internal/app/infrastructure/env",
      "file": "/home/jon/w/customer-management-api/code/internal/app/infrastructure/env/env.go",
      "line": 12,
      "endLine": 12,
      "code": "HeaderXCid       = \"x-cid\"",
      "exported": true,
      "depth": 2,
      "isTarget": false,
      "external": false,
      "stub": false
    },
    {
      "id": "github.com/pismo/customer-management-api/internal/app/infrastructure/request.GetCIDFromContext",
      "name": "GetCIDFromContext",
      "kind": "func",
      "package": "github.com/pismo/customer-management-api/internal/app/infrastructure/request",
      "file": "/home/jon/w/customer-management-api/code/internal/app/infrastructure/request/header.go",
      "line": 18,
      "endLine": 24,
      "code": "func GetCIDFromContext(ctx context.Context) string {\n\tval := ctx.Value(env.RequestContext)\n\tif val != nil {\n\t\treturn val.(RequestContext).Cid\n\t}\n\treturn \"\"\n}",
      "exported": true,
      "depth": 2,
      "isTarget": false,
      "external": false,
      "stub": false
    },
    {
      "id": "github.com/pismo/customer-management-api/internal/app/infrastructure/env.HeaderXTenant",
      "name": "HeaderXTenant",
      "kind": "const",
      "package": "github.com/pismo/customer-management-api/internal/app/infrastructure/env",
      "file": "/home/jon/w/customer-management-api/code/internal/app/infrastructure/env/env.go",
      "line": 10,
      "endLine": 10,
      "code": "HeaderXTenant    = \"x-tenant\"",
      "exported": true,
      "depth": 2,
      "isTarget": false,
      "external": false,
      "stub": false
    },
    {
      "id": "go.opentelemetry.io/otel/trace.RecordError",
      "name": "RecordError",
      "kind": "func",
      "package": "go.opentelemetry.io/otel/trace",
      "file": "",
      "line": 0,
      "endLine": 0,
      "code": "",
      "exported": true,
      "depth": 2,
      "isTarget": false,
      "external": true,
      "stub": true
    },
    {
      "id": "go.opentelemetry.io/otel/trace.SetStatus",
      "name": "SetStatus",
      "kind": "func",
      "package": "go.opentelemetry.io/otel/trace",
      "file": "",
      "line": 0,
      "endLine": 0,
      "code": "",
      "exported": true,
      "depth": 2,
      "isTarget": false,
      "external": true,
      "stub": true
    },
    {
      "id": "go.opentelemetry.io/otel/codes.Error",
      "name": "Error",
      "kind": "const",
      "package": "go.opentelemetry.io/otel/codes",
      "file": "",
      "line": 0,
      "endLine": 0,
      "code": "",
      "exported": true,
      "depth": 2,
      "isTarget": false,
      "external": true,
      "stub": true
    },
    {
      "id": "github.com/pismo/customer-management-api/internal/app/infrastructure/tracer.codes",
      "name": "codes",
      "kind": "unknown",
      "package": "github.com/pismo/customer-management-api/internal/app/infrastructure/tracer",
      "file": "/home/jon/w/customer-management-api/code/internal/app/infrastructure/tracer/metrics.go",
      "line": 10,
      "endLine": 0,
      "code": "",
      "exported": false,
      "depth": 2,
      "isTarget": false,
      "external": false,
      "stub": false
    },
    {
      "id": "github.com/pismo/customer-management-api/internal/app/infrastructure/syserror.context",
      "name": "context",
      "kind": "unknown",
      "package": "github.com/pismo/customer-management-api/internal/app/infrastructure/syserror",
      "file": "/home/jon/w/customer-management-api/code/internal/app/infrastructure/syserror/syserror.go",
      "line": 4,
      "endLine": 0,
      "code": "",
      "exported": false,
      "depth": 2,
      "isTarget": false,
      "external": false,
      "stub": false
    },
    {
      "id": "github.com/pismo/customer-management-api/internal/app/infrastructure/message.ErrorMessage",
      "name": "ErrorMessage",
      "kind": "struct",
      "package": "github.com/pismo/customer-management-api/internal/app/infrastructure/message",
      "file": "/home/jon/w/customer-management-api/code/internal/app/infrastructure/message/message.go",
      "line": 20,
      "endLine": 24,
      "code": "ErrorMessage struct {\n\tErrorCode      string\n\tUserMessage    string\n\tHttpStatusCode int\n}",
      "exported": true,
      "depth": 2,
      "isTarget": false,
      "external": false,
      "stub": false
    },
    {
      "id": "github.com/pismo/customer-management-api/internal/app/infrastructure/syserror.message",
      "name": "message",
      "kind": "unknown",
      "package": "github.com/pismo/customer-management-api/internal/app/infrastructure/syserror",
      "file": "/home/jon/w/customer-management-api/code/internal/app/infrastructure/syserror/syserror.go",
      "line": 7,
      "endLine": 0,
      "code": "",
      "exported": false,
      "depth": 2,
      "isTarget": false,
      "external": false,
      "stub": false
    },
    {
      "id": "github.com/pismo/customer-management-api/internal/app/infrastructure/syserror.SystemError",
      "name": "SystemError",
      "kind": "struct",
      "package": "github.com/pismo/customer-management-api/internal/app/infrastructure/syserror",
      "file": "/home/jon/w/customer-management-api/code/internal/app/infrastructure/syserror/syserror.go",
      "line": 11,
      "endLine": 16,
      "code": "SystemError struct {\n\t\tctx          context.Context\n\t\terr          error\n\t\tseverity     int\n\t\terrorMessage message.ErrorMessage\n\t}",
      "exported": true,
      "depth": 2,
      "isTarget": false,
      "external": false,
      "stub": false
    },
    {
      "id": "github.com/pismo/customer-management-api/internal/app/infrastructure/syserror.newSystemErrorAndLog",
      "name": "newSystemErrorAndLog",
      "kind": "func",
      "package": "github.com/pismo/customer-management-api/internal/app/infrastructure/syserror",
      "file": "/home/jon/w/customer-management-api/code/internal/app/infrastructure/syserror/syserror.go",
      "line": 37,
      "endLine": 46,
      "code": "func newSystemErrorAndLog(ctx context.Context, err error, errorMessage message.ErrorMessage, severity int) (errReturned SystemError) {\n\tsysError, isSysErr := err.(SystemError)\n\tif isSysErr {\n\t\terr = sysError.err\n\t}\n\n\tsystemError := SystemError{ctx, err, severity, errorMessage}\n\tlogError(ctx, systemError, err)\n\treturn systemError\n}",
      "exported": false,
      "depth": 2,
      "isTarget": false,
      "external": false,
      "stub": false
    },
    {
      "id": "github.com/pismo/customer-management-api/internal/app/infrastructure/message.Error",
      "name": "Error",
      "kind": "const",
      "package": "github.com/pismo/customer-management-api/internal/app/infrastructure/message",
      "file": "/home/jon/w/customer-management-api/code/internal/app/infrastructure/message/message.go",
      "line": 11,
      "endLine": 11,
      "code": "Error",
      "exported": true,
      "depth": 2,
      "isTarget": false,
      "external": false,
      "stub": false
    },
    {
      "id": "github.com/pismo/customer-management-api/internal/app/infrastructure/message.fmt",
      "name": "fmt",
      "kind": "unknown",
      "package": "github.com/pismo/customer-management-api/internal/app/infrastructure/message",
      "file": "/home/jon/w/customer-management-api/code/internal/app/infrastructure/message/message.go",
      "line": 4,
      "endLine": 0,
      "code": "",
      "exported": false,
      "depth": 2,
      "isTarget": false,
      "external": false,
      "stub": false
    },
    {
      "id": "github.com/pismo/customer-management-api/internal/app/adapter/web/presenter.StatusInfo",
      "name": "StatusInfo",
      "kind": "struct",
      "package": "github.com/pismo/customer-management-api/internal/app/adapter/web/presenter",
      "file": "/home/jon/w/customer-management-api/code/internal/app/adapter/web/presenter/account.go",
      "line": 31,
      "endLine": 33,
      "code": "StatusInfo struct {\n\tName string `json:\"name\"`\n}",
      "exported": true,
      "depth": 2,
      "isTarget": false,
      "external": false,
      "stub": false
    },
    {
      "id": "github.com/pismo/customer-management-api/internal/app/adapter/web/presenter.EntityInfo",
      "name": "EntityInfo",
      "kind": "struct",
      "package": "github.com/pismo/customer-management-api/internal/app/adapter/web/presenter",
      "file": "/home/jon/w/customer-management-api/code/internal/app/adapter/web/presenter/account.go",
      "line": 35,
      "endLine": 42,
      "code": "EntityInfo struct {\n\tEntityID   int64   `json:\"entity_id\"`\n\tExternalID *string `json:\"external_id\"`\n\tName       string  `json:\"name\"`\n\tSocialName string  `json:\"social_name\"`\n\tOwnership  string  `json:\"ownership\"`\n\t// Add other fields as needed\n}",
      "exported": true,
      "depth": 2,
      "isTarget": false,
      "external": false,
      "stub": false
    },
    {
      "id": "github.com/pismo/customer-management-api/internal/app/domain/service.oteltrace",
      "name": "oteltrace",
      "kind": "unknown",
      "package": "github.com/pismo/customer-management-api/internal/app/domain/service",
      "file": "/home/jon/w/customer-management-api/code/internal/app/domain/service/apihelper.go",
      "line": 14,
      "endLine": 0,
      "code": "",
      "exported": false,
      "depth": 2,
      "isTarget": false,
      "external": false,
      "stub": false
    },
    {
      "id": "github.com/pismo/customer-management-api/internal/app/domain/service.ParseErrorResponse",
      "name": "ParseErrorResponse",
      "kind": "func",
      "package": "github.com/pismo/customer-management-api/internal/app/domain/service",
      "file": "/home/jon/w/customer-management-api/code/internal/app/domain/service/apihelper.go",
      "line": 34,
      "endLine": 42,
      "code": "func ParseErrorResponse(ctx context.Context, responseBody []byte) error {\n\tvar response presenter.ErrorResponse\n\terr := json.Unmarshal(responseBody, \u0026response)\n\tif err == nil {\n\t\terr = fmt.Errorf(\"%s\", response.Message)\n\t\tlogger.Error(ctx, response.Message, nil)\n\t}\n\treturn syserror.NewErrorAndLog(ctx, message.ErrApiConnectionErr.Format(err), err)\n}",
      "exported": true,
      "depth": 2,
      "isTarget": false,
      "external": false,
      "stub": false
    },
    {
      "id": "net/http.StatusNoContent",
      "name": "StatusNoContent",
      "kind": "const",
      "package": "net/http",
      "file": "",
      "line": 0,
      "endLine": 0,
      "code": "",
      "exported": true,
      "depth": 2,
      "isTarget": false,
      "external": true,
      "stub": true
    },
    {
      "id": "encoding/json.Unmarshal",
      "name": "Unmarshal",
      "kind": "func",
      "package": "encoding/json",
      "file": "",
      "line": 0,
      "endLine": 0,
      "code": "",
      "exported": true,
      "depth": 2,
      "isTarget": false,
      "external": true,
      "stub": true
    },
    {
      "id": "github.com/pismo/customer-management-api/internal/app/infrastructure/message.ErrApiBodyParsingErr",
      "name": "ErrApiBodyParsingErr",
      "kind": "var",
      "package": "github.com/pismo/customer-management-api/internal/app/infrastructure/message",
      "file": "/home/jon/w/customer-management-api/code/internal/app/infrastructure/message/message.go",
      "line": 72,
      "endLine": 76,
      "code": "ErrApiBodyParsingErr = ErrorMessage{\n\t\tErrorCode:      ErrorPrefix + \"0010\",\n\t\tUserMessage:    \"Error parsing utils body with message: %s\",\n\t\tHttpStatusCode: http.StatusBadRequest,\n\t}",
      "exported": true,
      "depth": 2,
      "isTarget": false,
      "external": false,
      "stub": false
    }
  ],
  "edges": [
    {
      "from": "SearchAccounts",
      "to": "AccountsServiceImpl",
      "type": "direct-call",
      "depth": 1,
      "label": "direct-call"
    },
    {
      "from": "SearchAccounts",
      "to": "Context",
      "type": "direct-call",
      "depth": 1,
      "label": "direct-call"
    },
    {
      "from": "SearchAccounts",
      "to": "context",
      "type": "direct-call",
      "depth": 1,
      "label": "direct-call"
    },
    {
      "from": "SearchAccounts",
      "to": "AccountSearchResponse",
      "type": "direct-call",
      "depth": 1,
      "label": "direct-call"
    },
    {
      "from": "SearchAccounts",
      "to": "presenter",
      "type": "direct-call",
      "depth": 1,
      "label": "direct-call"
    },
    {
      "from": "SearchAccounts",
      "to": "SearchAccounts",
      "type": "direct-call",
      "depth": 1,
      "label": "direct-call"
    },
    {
      "from": "SearchAccounts",
      "to": "NewSpanWithCtx",
      "type": "direct-call",
      "depth": 1,
      "label": "direct-call"
    },
    {
      "from": "SearchAccounts",
      "to": "tracer",
      "type": "direct-call",
      "depth": 1,
      "label": "direct-call"
    },
    {
      "from": "SearchAccounts",
      "to": "ServiceSearchAccounts",
      "type": "direct-call",
      "depth": 1,
      "label": "direct-call"
    },
    {
      "from": "SearchAccounts",
      "to": "TagInternal",
      "type": "direct-call",
      "depth": 1,
      "label": "direct-call"
    },
    {
      "from": "SearchAccounts",
      "to": "End",
      "type": "direct-call",
      "depth": 1,
      "label": "direct-call"
    },
    {
      "from": "SearchAccounts",
      "to": "AddEvent",
      "type": "direct-call",
      "depth": 1,
      "label": "direct-call"
    },
    {
      "from": "SearchAccounts",
      "to": "Attributes",
      "type": "direct-call",
      "depth": 1,
      "label": "direct-call"
    },
    {
      "from": "SearchAccounts",
      "to": "GetTenantFromContext",
      "type": "direct-call",
      "depth": 1,
      "label": "direct-call"
    },
    {
      "from": "SearchAccounts",
      "to": "request",
      "type": "direct-call",
      "depth": 1,
      "label": "direct-call"
    },
    {
      "from": "SearchAccounts",
      "to": "Sprintf",
      "type": "direct-call",
      "depth": 1,
      "label": "direct-call"
    },
    {
      "from": "SearchAccounts",
      "to": "fmt",
      "type": "direct-call",
      "depth": 1,
      "label": "direct-call"
    },
    {
      "from": "SearchAccounts",
      "to": "Marshal",
      "type": "direct-call",
      "depth": 1,
      "label": "direct-call"
    },
    {
      "from": "SearchAccounts",
      "to": "json",
      "type": "direct-call",
      "depth": 1,
      "label": "direct-call"
    },
    {
      "from": "SearchAccounts",
      "to": "Network",
      "type": "direct-call",
      "depth": 1,
      "label": "direct-call"
    },
    {
      "from": "SearchAccounts",
      "to": "BuildDefaultHeaders",
      "type": "direct-call",
      "depth": 1,
      "label": "direct-call"
    },
    {
      "from": "SearchAccounts",
      "to": "SetError",
      "type": "direct-call",
      "depth": 1,
      "label": "direct-call"
    },
    {
      "from": "SearchAccounts",
      "to": "NewErrorAndLog",
      "type": "direct-call",
      "depth": 1,
      "label": "direct-call"
    },
    {
      "from": "SearchAccounts",
      "to": "syserror",
      "type": "direct-call",
      "depth": 1,
      "label": "direct-call"
    },
    {
      "from": "SearchAccounts",
      "to": "Format",
      "type": "direct-call",
      "depth": 1,
      "label": "direct-call"
    },
    {
      "from": "SearchAccounts",
      "to": "ErrApiConnectionErr",
      "type": "direct-call",
      "depth": 1,
      "label": "direct-call"
    },
    {
      "from": "SearchAccounts",
      "to": "message",
      "type": "direct-call",
      "depth": 1,
      "label": "direct-call"
    },
    {
      "from": "SearchAccounts",
      "to": "StatusNotFound",
      "type": "direct-call",
      "depth": 1,
      "label": "direct-call"
    },
    {
      "from": "SearchAccounts",
      "to": "http",
      "type": "direct-call",
      "depth": 1,
      "label": "direct-call"
    },
    {
      "from": "SearchAccounts",
      "to": "AccountSearchItem",
      "type": "direct-call",
      "depth": 1,
      "label": "direct-call"
    },
    {
      "from": "SearchAccounts",
      "to": "response",
      "type": "direct-call",
      "depth": 1,
      "label": "direct-call"
    },
    {
      "from": "SearchAccounts",
      "to": "ConvertResponse",
      "type": "direct-call",
      "depth": 1,
      "label": "direct-call"
    },
    {
      "from": "SearchAccounts",
      "to": "StatusOK",
      "type": "direct-call",
      "depth": 1,
      "label": "direct-call"
    },
    {
      "from": "AccountsServiceImpl",
      "to": "Network",
      "type": "direct-call",
      "depth": 2,
      "label": "direct-call"
    },
    {
      "from": "AccountsServiceImpl",
      "to": "network",
      "type": "direct-call",
      "depth": 2,
      "label": "direct-call"
    },
    {
      "from": "AccountSearchResponse",
      "to": "AccountSearchItem",
      "type": "direct-call",
      "depth": 2,
      "label": "direct-call"
    },
    {
      "from": "NewSpanWithCtx",
      "to": "Context",
      "type": "direct-call",
      "depth": 2,
      "label": "direct-call"
    },
    {
      "from": "NewSpanWithCtx",
      "to": "context",
      "type": "direct-call",
      "depth": 2,
      "label": "direct-call"
    },
    {
      "from": "NewSpanWithCtx",
      "to": "SpanKind",
      "type": "direct-call",
      "depth": 2,
      "label": "direct-call"
    },
    {
      "from": "NewSpanWithCtx",
      "to": "Span",
      "type": "direct-call",
      "depth": 2,
      "label": "direct-call"
    },
    {
      "from": "NewSpanWithCtx",
      "to": "oteltrace",
      "type": "direct-call",
      "depth": 2,
      "label": "direct-call"
    },
    {
      "from": "NewSpanWithCtx",
      "to": "Tracer",
      "type": "direct-call",
      "depth": 2,
      "label": "direct-call"
    },
    {
      "from": "NewSpanWithCtx",
      "to": "otel",
      "type": "direct-call",
      "depth": 2,
      "label": "direct-call"
    },
    {
      "from": "NewSpanWithCtx",
      "to": "TracerName",
      "type": "direct-call",
      "depth": 2,
      "label": "direct-call"
    },
    {
      "from": "NewSpanWithCtx",
      "to": "middleware",
      "type": "direct-call",
      "depth": 2,
      "label": "direct-call"
    },
    {
      "from": "NewSpanWithCtx",
      "to": "KeyValue",
      "type": "direct-call",
      "depth": 2,
      "label": "direct-call"
    },
    {
      "from": "NewSpanWithCtx",
      "to": "attribute",
      "type": "direct-call",
      "depth": 2,
      "label": "direct-call"
    },
    {
      "from": "NewSpanWithCtx",
      "to": "String",
      "type": "direct-call",
      "depth": 2,
      "label": "direct-call"
    },
    {
      "from": "NewSpanWithCtx",
      "to": "ServiceSpanKind",
      "type": "direct-call",
      "depth": 2,
      "label": "direct-call"
    },
    {
      "from": "NewSpanWithCtx",
      "to": "NewSpanWithCtx",
      "type": "direct-call",
      "depth": 2,
      "label": "direct-call"
    },
    {
      "from": "NewSpanWithCtx",
      "to": "ServiceName",
      "type": "direct-call",
      "depth": 2,
      "label": "direct-call"
    },
    {
      "from": "NewSpanWithCtx",
      "to": "Start",
      "type": "direct-call",
      "depth": 2,
      "label": "direct-call"
    },
    {
      "from": "NewSpanWithCtx",
      "to": "WithSpanKind",
      "type": "direct-call",
      "depth": 2,
      "label": "direct-call"
    },
    {
      "from": "NewSpanWithCtx",
      "to": "WithAttributes",
      "type": "direct-call",
      "depth": 2,
      "label": "direct-call"
    },
    {
      "from": "AddEvent",
      "to": "Span",
      "type": "direct-call",
      "depth": 2,
      "label": "direct-call"
    },
    {
      "from": "AddEvent",
      "to": "oteltrace",
      "type": "direct-call",
      "depth": 2,
      "label": "direct-call"
    },
    {
      "from": "AddEvent",
      "to": "Attributes",
      "type": "direct-call",
      "depth": 2,
      "label": "direct-call"
    },
    {
      "from": "AddEvent",
      "to": "buildKeyValue",
      "type": "direct-call",
      "depth": 2,
      "label": "direct-call"
    },
    {
      "from": "AddEvent",
      "to": "AddEvent",
      "type": "direct-call",
      "depth": 2,
      "label": "direct-call"
    },
    {
      "from": "AddEvent",
      "to": "AddEvent",
      "type": "direct-call",
      "depth": 2,
      "label": "direct-call"
    },
    {
      "from": "AddEvent",
      "to": "WithAttributes",
      "type": "direct-call",
      "depth": 2,
      "label": "direct-call"
    },
    {
      "from": "GetTenantFromContext",
      "to": "Context",
      "type": "direct-call",
      "depth": 2,
      "label": "direct-call"
    },
    {
      "from": "GetTenantFromContext",
      "to": "context",
      "type": "direct-call",
      "depth": 2,
      "label": "direct-call"
    },
    {
      "from": "GetTenantFromContext",
      "to": "Value",
      "type": "direct-call",
      "depth": 2,
      "label": "direct-call"
    },
    {
      "from": "GetTenantFromContext",
      "to": "GetTenantFromContext",
      "type": "direct-call",
      "depth": 2,
      "label": "direct-call"
    },
    {
      "from": "GetTenantFromContext",
      "to": "RequestContext",
      "type": "direct-call",
      "depth": 2,
      "label": "direct-call"
    },
    {
      "from": "GetTenantFromContext",
      "to": "env",
      "type": "direct-call",
      "depth": 2,
      "label": "direct-call"
    },
    {
      "from": "GetTenantFromContext",
      "to": "RequestContext",
      "type": "direct-call",
      "depth": 2,
      "label": "direct-call"
    },
    {
      "from": "Network",
      "to": "Context",
      "type": "direct-call",
      "depth": 2,
      "label": "direct-call"
    },
    {
      "from": "Network",
      "to": "context",
      "type": "direct-call",
      "depth": 2,
      "label": "direct-call"
    },
    {
      "from": "Network",
      "to": "Header",
      "type": "direct-call",
      "depth": 2,
      "label": "direct-call"
    },
    {
      "from": "Network",
      "to": "http",
      "type": "direct-call",
      "depth": 2,
      "label": "direct-call"
    },
    {
      "from": "BuildDefaultHeaders",
      "to": "Context",
      "type": "direct-call",
      "depth": 2,
      "label": "direct-call"
    },
    {
      "from": "BuildDefaultHeaders",
      "to": "context",
      "type": "direct-call",
      "depth": 2,
      "label": "direct-call"
    },
    {
      "from": "BuildDefaultHeaders",
      "to": "HeaderContentType",
      "type": "direct-call",
      "depth": 2,
      "label": "direct-call"
    },
    {
      "from": "BuildDefaultHeaders",
      "to": "env",
      "type": "direct-call",
      "depth": 2,
      "label": "direct-call"
    },
    {
      "from": "BuildDefaultHeaders",
      "to": "ContentTypeJSON",
      "type": "direct-call",
      "depth": 2,
      "label": "direct-call"
    },
    {
      "from": "BuildDefaultHeaders",
      "to": "HeaderXCid",
      "type": "direct-call",
      "depth": 2,
      "label": "direct-call"
    },
    {
      "from": "BuildDefaultHeaders",
      "to": "GetCIDFromContext",
      "type": "direct-call",
      "depth": 2,
      "label": "direct-call"
    },
    {
      "from": "BuildDefaultHeaders",
      "to": "BuildDefaultHeaders",
      "type": "direct-call",
      "depth": 2,
      "label": "direct-call"
    },
    {
      "from": "BuildDefaultHeaders",
      "to": "HeaderXTenant",
      "type": "direct-call",
      "depth": 2,
      "label": "direct-call"
    },
    {
      "from": "BuildDefaultHeaders",
      "to": "GetTenantFromContext",
      "type": "direct-call",
      "depth": 2,
      "label": "direct-call"
    },
    {
      "from": "SetError",
      "to": "Span",
      "type": "direct-call",
      "depth": 2,
      "label": "direct-call"
    },
    {
      "from": "SetError",
      "to": "oteltrace",
      "type": "direct-call",
      "depth": 2,
      "label": "direct-call"
    },
    {
      "from": "SetError",
      "to": "SetError",
      "type": "direct-call",
      "depth": 2,
      "label": "direct-call"
    },
    {
      "from": "SetError",
      "to": "RecordError",
      "type": "direct-call",
      "depth": 2,
      "label": "direct-call"
    },
    {
      "from": "SetError",
      "to": "SetStatus",
      "type": "direct-call",
      "depth": 2,
      "label": "direct-call"
    },
    {
      "from": "SetError",
      "to": "Error",
      "type": "direct-call",
      "depth": 2,
      "label": "direct-call"
    },
    {
      "from": "SetError",
      "to": "codes",
      "type": "direct-call",
      "depth": 2,
      "label": "direct-call"
    },
    {
      "from": "NewErrorAndLog",
      "to": "Context",
      "type": "direct-call",
      "depth": 2,
      "label": "direct-call"
    },
    {
      "from": "NewErrorAndLog",
      "to": "context",
      "type": "direct-call",
      "depth": 2,
      "label": "direct-call"
    },
    {
      "from": "NewErrorAndLog",
      "to": "ErrorMessage",
      "type": "direct-call",
      "depth": 2,
      "label": "direct-call"
    },
    {
      "from": "NewErrorAndLog",
      "to": "message",
      "type": "direct-call",
      "depth": 2,
      "label": "direct-call"
    },
    {
      "from": "NewErrorAndLog",
      "to": "SystemError",
      "type": "direct-call",
      "depth": 2,
      "label": "direct-call"
    },
    {
      "from": "NewErrorAndLog",
      "to": "newSystemErrorAndLog",
      "type": "direct-call",
      "depth": 2,
      "label": "direct-call"
    },
    {
      "from": "NewErrorAndLog",
      "to": "NewErrorAndLog",
      "type": "direct-call",
      "depth": 2,
      "label": "direct-call"
    },
    {
      "from": "NewErrorAndLog",
      "to": "Error",
      "type": "direct-call",
      "depth": 2,
      "label": "direct-call"
    },
    {
      "from": "Format",
      "to": "ErrorMessage",
      "type": "direct-call",
      "depth": 2,
      "label": "direct-call"
    },
    {
      "from": "Format",
      "to": "Format",
      "type": "direct-call",
      "depth": 2,
      "label": "direct-call"
    },
    {
      "from": "Format",
      "to": "Sprintf",
      "type": "direct-call",
      "depth": 2,
      "label": "direct-call"
    },
    {
      "from": "Format",
      "to": "fmt",
      "type": "direct-call",
      "depth": 2,
      "label": "direct-call"
    },
    {
      "from": "AccountSearchItem",
      "to": "StatusInfo",
      "type": "direct-call",
      "depth": 2,
      "label": "direct-call"
    },
    {
      "from": "AccountSearchItem",
      "to": "EntityInfo",
      "type": "direct-call",
      "depth": 2,
      "label": "direct-call"
    },
    {
      "from": "ConvertResponse",
      "to": "ConvertResponse",
      "type": "direct-call",
      "depth": 2,
      "label": "direct-call"
    },
    {
      "from": "ConvertResponse",
      "to": "Span",
      "type": "direct-call",
      "depth": 2,
      "label": "direct-call"
    },
    {
      "from": "ConvertResponse",
      "to": "oteltrace",
      "type": "direct-call",
      "depth": 2,
      "label": "direct-call"
    },
    {
      "from": "ConvertResponse",
      "to": "Context",
      "type": "direct-call",
      "depth": 2,
      "label": "direct-call"
    },
    {
      "from": "ConvertResponse",
      "to": "context",
      "type": "direct-call",
      "depth": 2,
      "label": "direct-call"
    },
    {
      "from": "ConvertResponse",
      "to": "ParseErrorResponse",
      "type": "direct-call",
      "depth": 2,
      "label": "direct-call"
    },
    {
      "from": "ConvertResponse",
      "to": "StatusNoContent",
      "type": "direct-call",
      "depth": 2,
      "label": "direct-call"
    },
    {
      "from": "ConvertResponse",
      "to": "http",
      "type": "direct-call",
      "depth": 2,
      "label": "direct-call"
    },
    {
      "from": "ConvertResponse",
      "to": "Unmarshal",
      "type": "direct-call",
      "depth": 2,
      "label": "direct-call"
    },
    {
      "from": "ConvertResponse",
      "to": "json",
      "type": "direct-call",
      "depth": 2,
      "label": "direct-call"
    },
    {
      "from": "ConvertResponse",
      "to": "SetError",
      "type": "direct-call",
      "depth": 2,
      "label": "direct-call"
    },
    {
      "from": "ConvertResponse",
      "to": "tracer",
      "type": "direct-call",
      "depth": 2,
      "label": "direct-call"
    },
    {
      "from": "ConvertResponse",
      "to": "NewErrorAndLog",
      "type": "direct-call",
      "depth": 2,
      "label": "direct-call"
    },
    {
      "from": "ConvertResponse",
      "to": "syserror",
      "type": "direct-call",
      "depth": 2,
      "label": "direct-call"
    },
    {
      "from": "ConvertResponse",
      "to": "Format",
      "type": "direct-call",
      "depth": 2,
      "label": "direct-call"
    },
    {
      "from": "ConvertResponse",
      "to": "ErrApiBodyParsingErr",
      "type": "direct-call",
      "depth": 2,
      "label": "direct-call"
    },
    {
      "from": "ConvertResponse",
      "to": "message",
      "type": "direct-call",
      "depth": 2,
      "label": "direct-call"
    }
  ],
  "external": [
    "context.Context",
    "go.opentelemetry.io/otel/trace.End",
    "fmt.Sprintf",
    "encoding/json.Marshal",
    "net/http.StatusNotFound",
    "net/http.StatusOK",
    "go.opentelemetry.io/otel/trace.Span",
    "go.opentelemetry.io/otel.Tracer",
    "go.opentelemetry.io/otel/attribute.KeyValue",
    "go.opentelemetry.io/otel/attribute.String",
    "go.opentelemetry.io/otel/trace.Start",
    "go.opentelemetry.io/otel/trace.WithSpanKind",
    "go.opentelemetry.io/otel/trace.WithAttributes",
    "go.opentelemetry.io/otel/trace.AddEvent",
    "context.Value",
    "net/http.Header",
    "go.opentelemetry.io/otel/trace.RecordError",
    "go.opentelemetry.io/otel/trace.SetStatus",
    "go.opentelemetry.io/otel/codes.Error",
    "net/http.StatusNoContent",
    "encoding/json.Unmarshal"
  ],
  "options": {
    "Depth": 2,
    "Format": "json",
    "StubExternal": false,
    "ShowCallers": false,
    "ShowTests": false,
    "ContextLines": 0,
    "Annotate": false,
    "IncludeMetrics": false,
    "GitBlame": false
  },
  "totalLayers": 2
}